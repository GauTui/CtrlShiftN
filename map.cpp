#include "map.h"
#include "TextM.h"
#include "game.h"

const int TILE_SIZE = 32;
int level1[20][20] = {
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
    {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
    {1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1},
    {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
    {1,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1},
    {1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,1},
    {1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,1,1,1,0,1},
    {1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,1},
    {1,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,0,1,0,1},
    {1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1},
    {1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1},
    {1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1},
    {1,0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,1,0,1},
    {1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1},
    {1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1},
    {1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,1},
    {1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1},
    {1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1},
    {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
    {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};

Map::Map() {
    wall = TextureManager::LoadTexture("img/sangphai.png");
    src = { 0, 0, 32, 32 };
    dest = { 0, 0, 32, 32 };
}

void Map::drawMap() {
    for (int row = 0; row < 20; row++) {
        for (int col = 0; col < 20; col++) {
            int tileType = level1[row][col];
            if (tileType == 1) {
                dest.x = col * TILE_SIZE;
                dest.y = row * TILE_SIZE;
                SDL_RenderCopy(Game::renderer, wall, &src, &dest);
            }
        }
    }
}
